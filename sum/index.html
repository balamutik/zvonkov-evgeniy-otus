<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Реализация функции Sum. ДЗ1 для Otus.ru</title>
    </head>
    <body>
        <button onclick="alerter()">Протестировать Sum</button><br>
        <script type="text/javascript">
            function sum(a){
            	var thisSum = a;
                function f(b) {
                  if(b==undefined || !isNumber(b)){
                    return thisSum;
                  }else{
                    thisSum += b;
                    return f;
                  }
                }
                /*f.toString = function(){
                    return thisSum;
                };*/
                
                
              return f;
            }
            function isNumber(n) {
              return !isNaN(parseFloat(n)) && isFinite(n);
            }
            
            function alerter(){
                alert("Тестируем sum(1)(2)(3)(5)(10)()")
                var t = sum(1)(2)(3)(5)(10)();
                if(typeof(t) == 'function'){
                        alert("Вызов вернул функцию вместо числа")
                }else{
                        let str = 'Вызов вернул сумму = '
                        alert(str+t);
                }
                
                alert("Тестируем sum(1)(2)(3)(5)(10)");
                t = sum(1)(2)(3)(5)(10);
                if(typeof(t) == 'function'){
                        alert("Вызов вернул функцию вместо числа")
                }else{
                        let str = 'Вызов вернул сумму = '
                        alert(str+t);
                }
            }
        </script>
    </body>
</html>